<!DOCTYPE html>
<html lang="en-us">

  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>
    
      Moebio Framework &middot; 
    
  </title>

  <!-- CSS -->
  <link rel="stylesheet" href="/moebio_framework/public/css/poole.css">
  <link rel="stylesheet" href="/moebio_framework/public/css/syntax.css">
  <link rel="stylesheet" href="/moebio_framework/public/css/hyde.css">
  <link rel="stylesheet" href="/moebio_framework/public/css/site.css">
  <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=PT+Sans:400,400italic,700">

  <!-- Icons -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/moebio_framework/public/apple-touch-icon-144-precomposed.png">
  <link rel="shortcut icon" href="/moebio_framework/public/favicon.png">

</head>


  <body>

    <div class="sidebar">
  <div class="container">
    <div class="sidebar-about">
      <h1>
        <a href="/moebio_framework/">
          Moebio Framework
        </a>
      </h1>
      <p class="lead"></p>
    </div>

    <nav class="sidebar-nav">
      <a class="sidebar-nav-item" href="/moebio_framework/">Home</a>

      

      
      
        
          
        
        
      
        
          
        
        
          
            <a class="sidebar-sub-nav-item" href="./about.html">About</a>
          
            <a class="sidebar-sub-nav-item" href="./examples.html">Examples</a>
          
            <a class="sidebar-sub-nav-item" href="./getting-started.html">Getting Started</a>
          
            <a class="sidebar-sub-nav-item" href="./working-with-tables.html">Working With Data Tables</a>
          
        
      


      <a class="sidebar-nav-item" href="docs">Docs</a>
      <a class="sidebar-nav-item" href="https://github.com/moebiolabs/moebio_framework/archive/0.4.2.zip">Download</a>
      <a class="sidebar-nav-item" href="https://github.com/moebiolabs/moebio_framework">GitHub project</a>
      <span class="sidebar-nav-item">Currently v0.4.2</span>
    </nav>

  </div>
</div>


    <div class="content container">
      <div class="posts">
  
  <div class="post">
    <h1 class="post-title">
      <a href="/moebio_framework//about.html">
        About
      </a>
    </h1>
    <p>Moebio Framework is a JavaScript toolkit for performing data analysis and creating visualizations. It provides a canvas based graphics framework and data structures and operators for manipulating data.</p>

<p><iframe src="https://player.vimeo.com/video/138556906" width="700" height="393" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe> <p><a href="https://vimeo.com/138556906">Moebio Framework Demo Reel</a> on <a href="https://vimeo.com">Vimeo</a>.</p></p>

<h3>Features</h3>

<ul>
<li>Fast canvas based 2D and 3D drawing api with mouse interaction</li>
<li>Text Rendering Support</li>
<li>Canvas based UI Elements like Color Pickers, Text Boxes and Tooltips</li>
<li>Rich collection of data structures and utilities to convert between them</li>
<li>Tools for Statistics, Prediction, Math, Network Analysis and more!</li>
</ul>

<h3>Browser support</h3>

<p>Moebio Framework is designed for modern browsers. Including recent versions of Google Chrome, Mozilla Firefox and Safari.</p>

<h3>Download</h3>

<p>Moebio Framework is developed on and hosted with GitHub. Head to the <a href="https://github.com/moebiolabs/moebio_framework">GitHub repository</a> for downloads, bug reports, and features requests.</p>

  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="/moebio_framework//examples.html">
        Examples
      </a>
    </h1>
    <p>Click on the examples below to open up a live running version along with the code that generates it.</p>

<div class='example'>
  <div class='example-image'>
    <a href="examples/playground#simple_shapes"><img src="examples/img/shapes_thumb.png"></a>
  </div>
  <div class='example-description'>
    <p>
      <a href="examples/playground#simple_shapes"><strong>Simple Shapes</strong></a>
      <br>
      See how to draw simple geometric shapes.
    </p>
  </div>
</div>

<div class='example'>
  <div class='example-image'>
    <a href="examples/playground#mouse_movements"><img src="examples/img/mouse_movements_thumb.png"></a>
  </div>
  <div class='example-description'>
    <p>
      <a href="examples/playground#mouse_movements"><strong>Mouse Movements</strong></a>
      <br>
      Demonstrates mouse interactions.
    </p>
  </div>
</div>

<div class='example'>
  <div class='example-image'>
    <a href="examples/playground#cube"><img src="examples/img/cube_thumb.png"></a>
  </div>
  <div class='example-description'>
    <p>
      <a href="examples/playground#cube"><strong>Cube</strong></a>
      <br>
      Demonstrates drawing 3d shapes and basic animation and mouse interaction.
    </p>
  </div>
</div>

<div class='example'>
  <div class='example-image'>
    <a href="examples/playground#network"><img src="examples/img/network_thumb.png"></a>
  </div>
  <div class='example-description'>
    <p>
      <a href="examples/playground#network"><strong>Network</strong></a>
      <br>
      Demonstrates physics models and network generation and visualization.
    </p>
  </div>
</div>

<div class='example'>
  <div class='example-image'>
    <a href="examples/playground#spanning_tree"><img src="examples/img/spanning_tree_thumb.png"></a>
  </div>
  <div class='example-description'>
    <p>
      <a href="examples/playground#spanning_tree"><strong>Spanning Tree</strong></a>
      <br>
      See how to render and interact with a network include, running network algorithms over the underlying data.
    </p>
  </div>
</div>

  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="/moebio_framework//getting-started.html">
        Getting Started
      </a>
    </h1>
    <h2>Getting Started With Moebio Framework</h2>

<p>Let&#39;s start by making a simple example with the Moebio Framework.</p>

<p>If you like, you can <a href="/moebio_framework//examples/playground#mouse_movements">follow along with the code</a>.</p>

<h3>Including the script</h3>

<p>First add the framework source file and shim to an html page.</p>
<div class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;script </span><span class="na">src=</span><span class="s">&quot;js/moebio_framework.js&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
</code></pre></div>
<p>The <code>global_shim</code> adds all the functions and data types in <code>moebio_framework</code>
into the global environment.</p>

<p>This should go near the bottom of the page, right before the closing <code>body</code> tag - which allows the rest of the page to load before needing to load this JavaScript.</p>

<h3>Setting up the Canvas</h3>

<p>Moebio Framework harnesses <a href="https://developer.mozilla.org/en-US/docs/Web/API/Canvas_API">canvas</a> for much of its visualization capabilities. But the <a href="">Graphics</a> library will take care of creating the canvas element. We just need to make a <code>div</code> to store it in:</p>
<div class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">&quot;maindiv&quot;</span><span class="nt">&gt;</span>
<span class="nt">&lt;/div&gt;</span>
</code></pre></div>
<p>Optionally, we might want to add some styling to <code>#maindiv</code> to ensure it is visible:</p>
<div class="highlight"><pre><code class="language-css" data-lang="css"><span class="nt">html</span><span class="o">,</span> <span class="nt">body</span><span class="p">{</span>
  <span class="k">height</span><span class="o">:</span><span class="m">100%</span><span class="p">;</span>
<span class="p">}</span>
<span class="nt">body</span> <span class="p">{</span>
  <span class="k">margin</span><span class="o">:</span><span class="m">0</span><span class="p">;</span>
  <span class="k">padding</span><span class="o">:</span><span class="m">0</span><span class="p">;</span>
  <span class="k">overflow</span><span class="o">:</span><span class="k">hidden</span><span class="p">;</span>
<span class="p">}</span>
<span class="nf">#maindiv</span> <span class="p">{</span>
  <span class="k">width</span><span class="o">:</span> <span class="m">100%</span><span class="p">;</span>
  <span class="k">height</span><span class="o">:</span> <span class="m">100%</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<h3>Graphics object</h3>

<p>Drawing, initialization, and the render loop of a visualization in Moebio Framework is all controlled by the <code>Graphics</code> object. When creating a Graphics instance, we provide the <code>div</code> or other container for it to render to. We also pass in an <code>init</code> and <code>cycle</code> function (described next). Here is the most basic example of creating a new Graphics instance:</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">graphics</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">mo</span><span class="p">.</span><span class="nx">Graphics</span><span class="p">({</span>
  <span class="nx">container</span><span class="o">:</span> <span class="s2">&quot;#maindiv&quot;</span><span class="p">,</span>
  <span class="nx">init</span><span class="o">:</span> <span class="nx">init</span><span class="p">,</span>
  <span class="nx">cycle</span><span class="o">:</span> <span class="nx">drawSomething</span>
<span class="p">});</span>
</code></pre></div>
<p><code>Graphics</code> can take other options like <code>dimensions</code> as well. Here is an example setting the width and height of the canvas to draw into.</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">graphics</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">mo</span><span class="p">.</span><span class="nx">Graphics</span><span class="p">({</span>
  <span class="nx">container</span><span class="o">:</span> <span class="s2">&quot;#maindiv&quot;</span><span class="p">,</span>

  <span class="nx">dimensions</span><span class="o">:</span> <span class="p">{</span>
    <span class="nx">width</span><span class="o">:</span> <span class="mi">500</span><span class="p">,</span>
    <span class="nx">height</span><span class="o">:</span> <span class="mi">500</span><span class="p">,</span>
  <span class="p">},</span>

  <span class="nx">init</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">//...</span>
  <span class="p">},</span>

  <span class="nx">cycle</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">//...</span>
  <span class="p">});</span>
</code></pre></div>
<h3>init and cycle</h3>

<p>Moebio Framework is built around the concept of a drawing loop. The drawing loop is called over and over again, and it is responsible for drawing the visualization for each <em>frame</em>. If you have worked with something like <a href="https://processing.org/">Processing</a>, then this will look familiar.</p>

<p>In Moebio there are two main functions to implement: <code>init</code> which gets called before the looping starts, and <code>cycle</code> which draws the visualization for each iteration of the loop.</p>

<p>In a basic visualization, there may be nothing to setup. In which case, <code>init</code> is optional.</p>

<p>In both, <code>this</code> is set to the current <code>Graphics</code> instance. So we can pull out information about the current state of the <code>Graphics</code> instance easily.</p>

<p>The Moebio Framework provides access to a number of useful attributes that let you reason about the current state of the visualization and handle various types of interactions.</p>

<p>These attributes are accessible at any point in your code. Lets use <a href="https://developer.mozilla.org/en-US/docs/Web/API/Console/log">console.log</a> to monitor some of them.</p>

<p>In <code>cycle</code>, add the following logging:</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">cycle</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;graphics width: &quot;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">cW</span> <span class="o">+</span> <span class="s2">&quot; graphics height: &quot;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">cH</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;mouse x: &quot;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">mX</span> <span class="o">+</span> <span class="s2">&quot; mouse y: &quot;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">mY</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
<p>Now open up this page in a web browser and also open the browser&#39;s console.</p>

<p>You should see a bunch of logs scrolling past in the console. Mousing over the window will show the change in the <code>mX</code> and <code>mY</code>, the mouse X and Y position. Resizing the window will change <code>cW</code> and <code>cH</code>, the canvas&#39;s width and height.</p>

<p>We will look at some of the other attributes later, but these should be enough to get us started.</p>

<h3>Drawing Functions</h3>

<p>Part of what makes Moebio Framework a powerful tool is its collection of drawing functions. We can think of these as helper functions that simplify the canvas API to allow for quickly displaying common shapes.</p>

<p>Let&#39;s use just one of these functions, <code>fRect</code>, to draw a rectangle. We will also use <code>setFill</code> to provide the rectangle&#39;s color.</p>

<p>Modify the cycle function to look like this:</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">cycle</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">setFill</span><span class="p">(</span><span class="s1">&#39;steelblue&#39;</span><span class="p">);</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">fRect</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">cW</span> <span class="o">/</span> <span class="mi">2</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">cH</span> <span class="o">/</span> <span class="mi">2</span><span class="p">,</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">mX</span> <span class="o">/</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">mY</span> <span class="o">/</span> <span class="mi">2</span><span class="p">));</span>
<span class="p">}</span>
</code></pre></div>
<p>Reloading the page gives us a blue rectangle in the middle of the visualization, with dimensions based on the current location of the mouse.</p>

<p><img src="/moebio_framework//public/img/getting_started/square.png" alt="blue square"></p>

<h3>Basic Interaction</h3>

<p>Let&#39;s start again with an empty <code>cycle</code> function, and this time add some interactive circles.</p>

<p>We can take advantage of Moebio Framework&#39;s <a href="">Point</a> class to create and store x / y positions to be where we render our circles.</p>

<p>Outside of the <code>cycle</code> function, create an array to store these Points.</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">points</span> <span class="o">=</span> <span class="p">[</span> <span class="k">new</span> <span class="nx">mo</span><span class="p">.</span><span class="nx">Point</span><span class="p">(</span><span class="mi">250</span><span class="p">,</span><span class="mi">250</span><span class="p">)</span> <span class="p">];</span>
</code></pre></div>
<p>We add a single point, just to get started. Don&#39;t worry, we will add more in a bit.</p>

<p>Now in our <code>cycle</code> function, we can display each Point in points. We will use <code>fCircleM</code> to draw the circle, while also calculating if the mouse is hovering over that point during this iteration of the <code>cycle</code> function.</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">cycle</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">radius</span> <span class="o">=</span> <span class="mi">20</span><span class="p">;</span>

  <span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">points</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">point</span> <span class="o">=</span> <span class="nx">points</span><span class="p">[</span><span class="nx">i</span><span class="p">];</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">setFill</span><span class="p">(</span><span class="s1">&#39;grey&#39;</span><span class="p">);</span>
    <span class="kd">var</span> <span class="nx">over</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">fCircleM</span><span class="p">(</span><span class="nx">point</span><span class="p">.</span><span class="nx">x</span><span class="p">,</span> <span class="nx">point</span><span class="p">.</span><span class="nx">y</span><span class="p">,</span> <span class="nx">radius</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p><img src="/moebio_framework//public/img/getting_started/circle.png" alt="grey circle"></p>

<p>Right now, this is just a grey circle, but drawing functions that end in <code>M</code> return <code>true</code> if the mouse is hovering over the drawn shape during the current iteration of <code>cycle</code>.</p>

<p>We can use this returned value to visually update the shape when it is moused over (again remember that <code>this</code> is the graphics instance):</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="c1">// if mouse over, change color to orange</span>
  <span class="k">if</span><span class="p">(</span><span class="nx">over</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">setFill</span><span class="p">(</span><span class="s1">&#39;orange&#39;</span><span class="p">);</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">fCircle</span><span class="p">(</span><span class="nx">point</span><span class="p">.</span><span class="nx">x</span><span class="p">,</span> <span class="nx">point</span><span class="p">.</span><span class="nx">y</span><span class="p">,</span> <span class="nx">radius</span><span class="p">);</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">setStroke</span><span class="p">(</span><span class="s1">&#39;grey&#39;</span><span class="p">);</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">sCircle</span><span class="p">(</span><span class="nx">point</span><span class="p">.</span><span class="nx">x</span><span class="p">,</span> <span class="nx">point</span><span class="p">.</span><span class="nx">y</span><span class="p">,</span> <span class="nx">radius</span> <span class="o">+</span> <span class="mi">10</span><span class="p">);</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">setCursor</span><span class="p">(</span><span class="s1">&#39;pointer&#39;</span><span class="p">);</span>
  <span class="p">}</span>
</code></pre></div>
<p>Now, if <code>over</code> is true, meaning this circle is currently being moused over, we change the fill and re-draw an orange circle on top of our original grey circle. We also add a ring around this circle using <code>sCircle</code>.</p>

<p><img src="/moebio_framework//public/img/getting_started/circle_hover.png" alt="orange circle"></p>

<p>As an aside, the use of <code>sCircle</code> hints that there are a number of different draw functions available to us for each type of basic shape. Functions that start with <code>f</code>, like <code>fRect</code> and <code>fCircle</code> draw a filled in shape. Those starting with <code>s</code> draw just a stroke. And those that start with <code>fs</code>, like <code>fsRect</code> draw the shape both filled in and with an outline. Check out the documentation to find out more!</p>

<p>Finally, let&#39;s add a basic mouse click interaction. Moebio Framework indicates mouse interactions by setting a few globally accessible variables:</p>

<ul>
<li><code>MOUSE_DOWN</code> - true if the current <code>cycle</code> has a mouse down event.</li>
<li><code>MOUSE_UP</code> - true if the current <code>cycle</code> has a mouse up event.</li>
<li><code>MOUSE_PRESSED</code> - true if the mouse is currently being pressed.</li>
</ul>

<p>Let&#39;s change the color of the circle to be red if the mouse clicks on it. For this, we will want to handle both <code>MOUSE_DOWN</code> and <code>MOUSE_PRESSED</code> to ensure it stays red if the mouse is held down.</p>

<p>Add this to the end of the <code>cycle</code> function:</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript">   <span class="c1">// if mouse pressed, change color to orange</span>
   <span class="k">if</span><span class="p">((</span><span class="k">this</span><span class="p">.</span><span class="nx">MOUSE_DOWN</span> <span class="o">||</span> <span class="k">this</span><span class="p">.</span><span class="nx">MOUSE_PRESSED</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="nx">over</span><span class="p">)</span> <span class="p">{</span>
     <span class="k">this</span><span class="p">.</span><span class="nx">setFill</span><span class="p">(</span><span class="s1">&#39;red&#39;</span><span class="p">);</span>
     <span class="k">this</span><span class="p">.</span><span class="nx">fCircle</span><span class="p">(</span><span class="nx">point</span><span class="p">.</span><span class="nx">x</span><span class="p">,</span> <span class="nx">point</span><span class="p">.</span><span class="nx">y</span><span class="p">,</span> <span class="nx">radius</span><span class="p">);</span>
   <span class="p">}</span>
</code></pre></div>
<p>Now, if the mouse is over the circle, and it is being pressed down, the circle will turn red.</p>

<p>One little addition, as the circles are drawn every time cycle is called, we can easily animate their shape, position, or size based on data or other parameters.</p>

<p>We can see this by tweaking our <code>radius</code> value. Let&#39;s make it proportional to the x/y location of the mouse. Change our <code>radius</code> code to match the following:</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript">  <span class="kd">var</span> <span class="nx">radius</span> <span class="o">=</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">mX</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">mY</span><span class="p">)</span> <span class="o">/</span> <span class="mi">30</span><span class="p">;</span>
  <span class="k">if</span><span class="p">(</span><span class="nx">radius</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">radius</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="k">if</span><span class="p">(</span><span class="nx">radius</span> <span class="o">&gt;</span> <span class="mi">50</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">radius</span> <span class="o">=</span> <span class="mi">50</span><span class="p">;</span>
  <span class="p">}</span>
</code></pre></div>
<p>And now our circles pulse with our mouse movements.</p>

<p>Just to see it all together, here is our complete <code>cycle</code> function:</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">cycle</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="c1">// The size of the circles will be controlled by the mouse position</span>
  <span class="c1">// mX &amp; mY is mouse X &amp; Y</span>
  <span class="kd">var</span> <span class="nx">radius</span> <span class="o">=</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">mX</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">mY</span><span class="p">)</span> <span class="o">/</span> <span class="mi">30</span><span class="p">;</span>
  <span class="k">if</span><span class="p">(</span><span class="nx">radius</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">radius</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="k">if</span><span class="p">(</span><span class="nx">radius</span> <span class="o">&gt;</span> <span class="mi">50</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">radius</span> <span class="o">=</span> <span class="mi">50</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="c1">// When drawing shapes we can get information as to whether the mouse</span>
  <span class="c1">// is over them, or whether the mouse is pressed.</span>
  <span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">points</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">point</span> <span class="o">=</span> <span class="nx">points</span><span class="p">[</span><span class="nx">i</span><span class="p">];</span>
    <span class="c1">// add a circle that can detect mouse over</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">setFill</span><span class="p">(</span><span class="s1">&#39;grey&#39;</span><span class="p">);</span>
    <span class="kd">var</span> <span class="nx">over</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">fCircleM</span><span class="p">(</span><span class="nx">point</span><span class="p">.</span><span class="nx">x</span><span class="p">,</span> <span class="nx">point</span><span class="p">.</span><span class="nx">y</span><span class="p">,</span> <span class="nx">radius</span><span class="p">);</span>

    <span class="c1">// if mouse over, change color to orange</span>
    <span class="k">if</span><span class="p">(</span><span class="nx">over</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">setFill</span><span class="p">(</span><span class="s1">&#39;orange&#39;</span><span class="p">);</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">fCircle</span><span class="p">(</span><span class="nx">point</span><span class="p">.</span><span class="nx">x</span><span class="p">,</span> <span class="nx">point</span><span class="p">.</span><span class="nx">y</span><span class="p">,</span> <span class="nx">radius</span><span class="p">);</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">setStroke</span><span class="p">(</span><span class="s1">&#39;grey&#39;</span><span class="p">);</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">sCircle</span><span class="p">(</span><span class="nx">point</span><span class="p">.</span><span class="nx">x</span><span class="p">,</span> <span class="nx">point</span><span class="p">.</span><span class="nx">y</span><span class="p">,</span> <span class="nx">radius</span> <span class="o">+</span> <span class="mi">10</span><span class="p">);</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">setCursor</span><span class="p">(</span><span class="s1">&#39;pointer&#39;</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="c1">// if mouse pressed, change color to orange</span>
    <span class="k">if</span><span class="p">((</span><span class="k">this</span><span class="p">.</span><span class="nx">MOUSE_DOWN</span> <span class="o">||</span> <span class="k">this</span><span class="p">.</span><span class="nx">MOUSE_PRESSED</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="nx">over</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">setFill</span><span class="p">(</span><span class="s1">&#39;red&#39;</span><span class="p">);</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">fCircle</span><span class="p">(</span><span class="nx">point</span><span class="p">.</span><span class="nx">x</span><span class="p">,</span> <span class="nx">point</span><span class="p">.</span><span class="nx">y</span><span class="p">,</span> <span class="nx">radius</span><span class="p">);</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<h2>Mouse Events</h2>

<p>In our <code>cycle</code> function, the current mouse position and interaction is available through the <code>Graphics</code> instance. We can also bind callback functions to particular mouse actions, as you might be familiar with from something like jQuery.</p>

<p>For this example, we can add new Points to wherever we&#39;ve clicked:</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">graphics</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;click&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(){</span>
  <span class="nx">points</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span> <span class="k">new</span> <span class="nx">mo</span><span class="p">.</span><span class="nx">Point</span><span class="p">(</span><span class="nx">graphics</span><span class="p">.</span><span class="nx">mX</span><span class="p">,</span> <span class="nx">graphics</span><span class="p">.</span><span class="nx">mY</span><span class="p">));</span>
<span class="p">});</span>
</code></pre></div>
<p>Now clicking around will give us a cohort of circles that shrink and grow.</p>

<p>Check out the <a href="/moebio_framework//examples/playground#mouse_movements">full example</a> and the <a href="/moebio_framework//docs">framework&#39;s documentation</a> to see what else you can try!</p>

  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="/moebio_framework//working-with-tables.html">
        Working With Data Tables
      </a>
    </h1>
    <h2>Working with Data Tables</h2>

<p>Ok! We have seen how to use Moebio Framework to work with the canvas to make graphics, but there is another side to the framework: working with data.</p>

<h3>Data Types and Functions</h3>

<p>A core philosophy of Moebio Framework is that the type of data you are looking at determines the operations and manipulations you can perform on that data. Another way to say this is that if we get our data into the right <em>data type</em>, then we will have access to all the methods and functions in the framework that work on that data type.</p>

<p>And in Moebio Framework, there are a lot of data types and functions to work with them! From the documentation, you can get a sense for how these data types are arranged. There are the normal basic types you would expect, like Strings and Numbers, but also ones like <a href="http://moebiolabs.github.io/moebio_framework/docs/Rectangle.html">Rectangle</a>, <a href="http://moebiolabs.github.io/moebio_framework/docs/Point.html">Point</a>, and <a href="http://moebiolabs.github.io/moebio_framework/docs/Polygon.html">Polygon</a>.</p>

<p>Typically in a data set you are dealing with more then just one of these values, and that is where <a href="http://moebiolabs.github.io/moebio_framework/docs/List.html">List</a> and <a href="http://moebiolabs.github.io/moebio_framework/docs/Table.html">Table</a> come in. Most of the basic data types have an associated list type that provides specific methods and functions to that type.  <a href="http://moebiolabs.github.io/moebio_framework/docs/NumberList.html">NumberList</a> for example has <a href="http://moebiolabs.github.io/moebio_framework/docs/NumberList.html#getMax">getMax</a>, <a href="http://moebiolabs.github.io/moebio_framework/docs/NumberList.html#getMin">getMin</a>, <a href="http://moebiolabs.github.io/moebio_framework/docs/NumberList.html#getAverage">getAverage</a>, and many other methods that are specific to working with a list of numbers.</p>

<p>In addition to these methods callable on an instance of a list or basic data type, Moebio Framework provides a host of customized functions that work on and transform these data types. These functions are organized into namespaces by what types of operations they perform.</p>

<ul>
<li><strong>Operators</strong> work on a particular data type to derive insights or details.</li>
<li><strong>Conversions</strong> convert between different data types.</li>
<li><strong>Generators</strong> generates artificial data using a number of algorithms.</li>
<li><strong>Encodings</strong> serialize and deserialize the data types.</li>
</ul>

<p>Not all data types have each of these namespaces, but most have some to explore for additional capabilities of the framework. <a href="http://moebiolabs.github.io/moebio_framework/docs/NumberList.html">NumberList</a> for example, has <a href="http://moebiolabs.github.io/moebio_framework/docs/NumberListOperators.html">NumberListOperators</a>, <a href="http://moebiolabs.github.io/moebio_framework/docs/NumberListConversions.html">NumberListConversions</a>, and <a href="http://moebiolabs.github.io/moebio_framework/docs/NumberListGenerators.html">NumberListGenerators</a>. The namespaces attempt to partition up the frameworks functionality in a consistent manner.</p>

<p>Knowing more about the structure and the capabilities of the data types and their helper functions, let&#39;s dive in to using these functions to get an understanding into a particular data set!</p>

<h3>Loading Data</h3>

<p>The full source code for this project is <a href="https://github.com/moebiolabs/moebio_framework/tree/master/examples/data/data_types.js">in the examples directory</a>.</p>

<p>We will start by loading a basic CSV file. In this example, we have included the framework script in our web page, and along side it we have a directory, <code>data</code> with <code>iris.csv</code>. This is the <a href="https://en.wikipedia.org/wiki/Iris_flower_data_set">iris dataset</a> that has measurements of sepals and petals for three species of iris flowers. We are going to try to explore this data set using <code>console.log</code> and functions from the framework.</p>

<p>First, load the dataset using the <a href="">loadData</a> Loader function. Here we pass in the path to the file we want load, and the local function <code>loaded</code> that will get called once the data is ready.</p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nb">window</span><span class="p">.</span><span class="nx">onload</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">mo</span><span class="p">.</span><span class="nx">Loader</span><span class="p">.</span><span class="nx">loadData</span><span class="p">(</span><span class="s1">&#39;data/iris.csv&#39;</span><span class="p">,</span> <span class="nx">loaded</span><span class="p">,</span> <span class="k">this</span><span class="p">);</span>
<span class="p">};</span>
</code></pre></div>
<p>Now in <code>loaded</code>, we can get to the contents of the file by accessing the <code>result</code> of the input variable of <code>loaded</code>:</p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="kd">function</span> <span class="nx">loaded</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
<span class="c1">// work with data.result here...</span>
<span class="p">}</span>
</code></pre></div>
<p>The result of loading a file starts out as just a long string, but we know it is a CSV and thus we can convert it into a <a href="http://moebiolabs.github.io/moebio_framework/docs/Table.html">Table</a>. The Moebio Framework has a <a href="http://moebiolabs.github.io/moebio_framework/docs/TableEncodings.html#.CSVtoTable">TableEncodings.CSVtoTable</a> function that does just that. You pass in a string, and get out a Table. Let&#39;s use that inside our <code>loaded</code> function:</p>
<div class="highlight"><pre><code class="language-js" data-lang="js">  <span class="kd">var</span> <span class="nx">table</span> <span class="o">=</span> <span class="nx">mo</span><span class="p">.</span><span class="nx">TableEncodings</span><span class="p">.</span><span class="nx">CSVtoTable</span><span class="p">(</span><span class="nx">data</span><span class="p">.</span><span class="nx">result</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>
</code></pre></div>
<h3>Looking At Tables and Lists</h3>

<p>The second parameter indicates that the first row should be considered the names of the columns. In Moebio Framework, Tables are built up as a list of <a href="http://moebiolabs.github.io/moebio_framework/docs/List.html">Lists</a>. Each List represents a column, and can hold a different data type. Lists are just like arrays, but with additional capabilities. We can see the names of these lists using <a href="http://moebiolabs.github.io/moebio_framework/docs/List.html#getNames">getNames</a>.</p>
<div class="highlight"><pre><code class="language-js" data-lang="js">  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">table</span><span class="p">.</span><span class="nx">getNames</span><span class="p">());</span>
</code></pre></div>
<p>These as we expect are the same names in the CSV:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">0: &quot;Sepal.Length&quot;
1: &quot;Sepal.Width&quot;
2: &quot;Petal.Length&quot;
3: &quot;Petal.Width&quot;
4: &quot;Species&quot;
</code></pre></div>
<p>When Moebio Framework converted the CSV into a Table, it was nice enough to convert each List inside that table into one tailored for storing the type of data in that column. As Table is derived from List, we can use List&#39;s <a href="http://moebiolabs.github.io/moebio_framework/docs/List.html#getTypes">getTypes</a> method to see these types:</p>
<div class="highlight"><pre><code class="language-js" data-lang="js">  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">table</span><span class="p">.</span><span class="nx">getTypes</span><span class="p">());</span>
</code></pre></div><div class="highlight"><pre><code class="language-text" data-lang="text">0: &quot;NumberList&quot;
1: &quot;NumberList&quot;
2: &quot;NumberList&quot;
3: &quot;NumberList&quot;
4: &quot;StringList&quot;
</code></pre></div>
<p>So each of our columns contains Numbers in a <a href="http://moebiolabs.github.io/moebio_framework/docs/NumberList.html">NumberList</a>, except for the last column, <code>Species</code>, which is a <a href="http://moebiolabs.github.io/moebio_framework/docs/StringList.html">StringList</a>. Not too surprising, but good to know.</p>

<h3>Summary Statistics and Counts</h3>

<p>To get a better feel for the contents of these lists, we can look at some summary statistics. NumberList includes many such methods, like <a href="http://moebiolabs.github.io/moebio_framework/docs/NumberList.html#getMin">getMin</a>, <a href="http://moebiolabs.github.io/moebio_framework/docs/NumberList.html#getMax">getMax</a>, and <a href="http://moebiolabs.github.io/moebio_framework/docs/NumberList.html#getAverage">getAverage</a>.</p>

<p>To access an individual List in the Table, we simply index into the Table like an Array. Here we get the average of the values in the first List:</p>
<div class="highlight"><pre><code class="language-js" data-lang="js">  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;average: &quot;</span> <span class="o">+</span> <span class="nx">table</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">getAverage</span><span class="p">());</span>
</code></pre></div>
<p>If we want to get the averages of all the NumberLists, one way would be to simply loop through them:</p>
<div class="highlight"><pre><code class="language-js" data-lang="js">  <span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">table</span><span class="p">.</span><span class="nx">length</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;average of &quot;</span> <span class="o">+</span> <span class="nx">table</span><span class="p">.</span><span class="nx">getNames</span><span class="p">()[</span><span class="nx">i</span><span class="p">]</span> <span class="o">+</span> <span class="s2">&quot;: &quot;</span> <span class="o">+</span> <span class="nx">table</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">getAverage</span><span class="p">());</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;max of &quot;</span> <span class="o">+</span> <span class="nx">table</span><span class="p">.</span><span class="nx">getNames</span><span class="p">()[</span><span class="nx">i</span><span class="p">]</span> <span class="o">+</span> <span class="s2">&quot;: &quot;</span> <span class="o">+</span> <span class="nx">table</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">getMax</span><span class="p">());</span>
  <span class="p">}</span>
</code></pre></div>
<p>Alternatively, we can use the <a href="http://moebiolabs.github.io/moebio_framework/docs/TableOperators.html#.getReport">getReport</a> function in <a href="http://moebiolabs.github.io/moebio_framework/docs/TableOperators.html">TableOperators</a> or <a href="http://moebiolabs.github.io/moebio_framework/docs/ListOperators.html">ListOperators</a> to get a handy summary of a Table or List automatically.</p>
<div class="highlight"><pre><code class="language-js" data-lang="js">  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">mo</span><span class="p">.</span><span class="nx">TableOperators</span><span class="p">.</span><span class="nx">getReport</span><span class="p">(</span><span class="nx">table</span><span class="p">));</span>
</code></pre></div>
<p>Here is what part of the report looks like currently for our Table.</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">///////////report of instance of Table//////////
name:
type: Table
number of lists: 5
all lists have same length: true
lists length: 150
--
0: Sepal.Length [#L]
1: Sepal.Width [#L]
2: Petal.Length [#L]
3: Petal.Width [#L]
4: Species [sL]
--
types: NumberList, NumberList, NumberList, NumberList, StringList
names: Sepal.Length, Sepal.Width, Petal.Length, Petal.Width, Species

--------lists reports---------

(0/0-4)
  ////report of instance of List////
  name: Sepal.Length
  type: NumberList
  length: 150
  first element: [5.1]
  min: 4.3
  max: 7.9
  average: 5.843333333333335
...
</code></pre></div>
<p>Another great tool in Lists is the <a href="http://moebiolabs.github.io/moebio_framework/docs/List.html#getFrequenciesTable">getFrequenciesTable</a> method. You can use this to tabulate counts of unique items in a List. Here, we use it to check out how many entries for each species there are:</p>
<div class="highlight"><pre><code class="language-js" data-lang="js">  <span class="kd">var</span> <span class="nx">freqTable</span> <span class="o">=</span> <span class="nx">table</span><span class="p">[</span><span class="mi">4</span><span class="p">].</span><span class="nx">getFrequenciesTable</span><span class="p">();</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;Species Counts&#39;</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">mo</span><span class="p">.</span><span class="nx">TableEncodings</span><span class="p">.</span><span class="nx">TableToCSV</span><span class="p">(</span><span class="nx">freqTable</span><span class="p">));</span>
</code></pre></div>
<p>We use <code>TableToCSV</code> to convert the resulting table back into a string just for printing purposes. It shows up like this:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">&quot;setosa&quot;,50
&quot;versicolor&quot;,50
&quot;virginica&quot;,50
</code></pre></div>
<p>So now we know we have 50 of each species. Great!</p>

<h3>Data Mining and Information Gain</h3>

<p>Now that we have looked a bit at the shape of our data, let&#39;s try digging in a little deeper with some more advanced features of the framework.</p>

<p><a href="https://en.wikipedia.org/wiki/Information_gain_in_decision_trees">Information Gain</a> is a popular tool used in data mining, especially in the construction of <a href="https://en.wikipedia.org/wiki/Decision_tree_learning">decision trees</a>. It represents the ability of a particular variable to divide the data set into known categories. While it isn&#39;t typically used outside of building a decision tree, we can try it out here to get a feeling for how well these variables might perform independent of one another in assigning a particular row of data to a particular species.</p>

<p>Moebio Framework&#39;s <a href="http://moebiolabs.github.io/moebio_framework/docs/TableOperators.html">TableOperators</a> includes the <a href="http://moebiolabs.github.io/moebio_framework/docs/TableOperators.html#.getVariablesInformationGain">getVariablesInformationGain</a> function which calculates information gain for each column in a Table, given a list of categories. As all our variables are numerical except for <code>Species</code>, we can use <a href="http://moebiolabs.github.io/moebio_framework/docs/TableOperators.html#.getNumberTableFromTable">getNumberTableFromTable</a> to extract our NumberList columns into a new table for operation:</p>
<div class="highlight"><pre><code class="language-js" data-lang="js">  <span class="kd">var</span> <span class="nx">infoGain</span> <span class="o">=</span> <span class="nx">mo</span><span class="p">.</span><span class="nx">TableOperators</span><span class="p">.</span><span class="nx">getVariablesInformationGain</span><span class="p">(</span>
    <span class="nx">mo</span><span class="p">.</span><span class="nx">TableOperators</span><span class="p">.</span><span class="nx">getNumberTableFromTable</span><span class="p">(</span><span class="nx">table</span><span class="p">),</span> <span class="nx">table</span><span class="p">[</span><span class="mi">4</span><span class="p">]);</span>

  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">infoGain</span><span class="p">);</span>
</code></pre></div><div class="highlight"><pre><code class="language-text" data-lang="text">0: 0.3609711886232146
1: 0.20214839918573171
2: 0.8613540229246439
3: 0.8509353379542857
</code></pre></div>
<p>We see that the last two variables, <code>Petal.Length</code> and <code>Petal.Width</code> have much higher information gain then the first two, thus they contain the most information in terms of splitting this data up based on its species.</p>

<p>Let&#39;s use this knowledge to go one step further and look at building a very simple classification system with one of these variables.</p>

<h2>K-Means Clustering</h2>

<p><a href="https://en.wikipedia.org/wiki/K-means_clustering">K-means Clustering</a> is a simple but effective unsupervised learning clustering technique. It is a simple clustering techniques that puts data elements into a given number of buckets. You tell it how many buckets, and the algorithm attempts to split up the data into these buckets - as best it can.</p>

<p>The Moebio Framework includes the ability to generate a K-means clustering from a NumberList. Let&#39;s try it out!</p>

<p>From the experimentation above, we can guess that the 3rd attribute, <code>Petal.Length</code> might be our best bet for clustering this particular dataset (as we are limiting ourselves to just one variable). <a href="http://moebiolabs.github.io/moebio_framework/docs/NumberListOperators.html#.linearKMeans">linearKMeans</a>, part of <a href="http://moebiolabs.github.io/moebio_framework/docs/NumberListOperators.html">NumberListOperators</a> gives us the ability to generate clusters.</p>
<div class="highlight"><pre><code class="language-js" data-lang="js">  <span class="kd">var</span> <span class="nx">kMeans</span> <span class="o">=</span> <span class="nx">mo</span><span class="p">.</span><span class="nx">NumberListOperators</span><span class="p">.</span><span class="nx">linearKMeans</span><span class="p">(</span><span class="nx">table</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="mi">3</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>
</code></pre></div>
<p>The <code>3</code> indicates the number of clusters to use (here we are cheating as we know there are only 3 species). The 3rd parameter indicates the algorithm should return the indexes associated with each cluster. So our returned value is a <a href="http://moebiolabs.github.io/moebio_framework/docs/NumberTable.html">NumberTable</a> that stores the indexes of the rows in our original table associated with each of the 3 clusters.</p>

<p>Now, to see how effective the cluster is, a simplistic approach would be to see how many of the <code>Species</code> value in the rows associated with a cluster match the most prevalent <code>Species</code>. As there are 3 species, we can see how well the data were binned into 3 distinct clusters.</p>

<p>Here is a bit of code that will calculate that, and we can walk through it line by line:</p>
<div class="highlight"><pre><code class="language-js" data-lang="js">  <span class="k">for</span><span class="p">(</span><span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">kMeans</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">cluster</span> <span class="o">=</span> <span class="nx">table</span><span class="p">.</span><span class="nx">getSubListsByIndexes</span><span class="p">(</span><span class="nx">kMeans</span><span class="p">[</span><span class="nx">i</span><span class="p">]);</span>
    <span class="kd">var</span> <span class="nx">clusterFreqTable</span> <span class="o">=</span> <span class="nx">cluster</span><span class="p">[</span><span class="mi">4</span><span class="p">].</span><span class="nx">getFrequenciesTable</span><span class="p">();</span>
    <span class="kd">var</span> <span class="nx">mismatch</span> <span class="o">=</span>  <span class="nx">clusterFreqTable</span><span class="p">[</span><span class="mi">1</span><span class="p">].</span><span class="nx">getSum</span><span class="p">()</span> <span class="o">-</span> <span class="nx">clusterFreqTable</span><span class="p">[</span><span class="mi">1</span><span class="p">].</span><span class="nx">getMax</span><span class="p">();</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;cluster: &#39;</span> <span class="o">+</span> <span class="nx">i</span> <span class="o">+</span> <span class="s1">&#39;, mismatch: &#39;</span> <span class="o">+</span> <span class="nx">mismatch</span><span class="p">);</span>
  <span class="p">}</span>
</code></pre></div>
<p>First we pull out all the rows associated with a cluster using <a href="http://moebiolabs.github.io/moebio_framework/docs/Table.html#getSubListsByIndexes">getSubListsByIndexes</a>, and store them in a new Table, <code>cluster</code>. Then, we build a frequency table of the cluster&#39;s <code>Species</code> column (column 4), using <code>getFrequenciesTable</code> again. This frequency table has the value in it&#39;s first List and the count of that value as its second List. Finally, our <code>mismatch</code> for the cluster is calculated as the total values in the cluster minus the count of the <code>Species</code> with the most values for that cluster.</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">cluster: 0, mismatch: 0
cluster: 1, mismatch: 6
cluster: 2, mismatch: 2
</code></pre></div>
<p>Not too bad. Only a few mismatches for each cluster! We can try the same for just <code>Sepal.Width</code>, to see a much worse mismatch rate:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">cluster: 0, mismatch: 20
cluster: 1, mismatch: 50
cluster: 2, mismatch: 3
</code></pre></div>
<p>So there you have it. We have seen how the Moebio Framework deals with data. How different data types expose different functionality, and how we can use that functionality to explore our data and even get basic answers out of it. Hopefully this gives you a good head start on where to dive into the docs to find out more of what Moebio Framework can do for your data.</p>

<p>The full source code for this project is <a href="https://github.com/moebiolabs/moebio_framework/blob/master/examples/data/data_types.js">in the examples directory</a>. Check it out and get started!</p>

  </div>
  
</div>


    </div>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-67287358-1', 'auto');
  ga('send', 'pageview');

</script>
  </body>
</html>
